# A组部分PPT内容

## 我们做了什么

* 中文分词
* 倒排索引
* 检索服务器

## 中文分词

### 为什么要进行中文分词

词是最小的能够独立活动的有意义的语言成分

英文单词之间是以空格作为自然分界符的

而汉语是以字为基本的书写单位，词语之间没有明显的区分标记

因此，中文词语分析是中文信息处理的基础与关键

### 我们是如何实现的

#### 信息量

> 信息奠基人香农（Shannon）认为“信息是用来消除随机不确定性的东西”

\[信息量计算公式\]

#### 分词

通过统计词频, 我们可以根据词语出现的频率计算得到每个词语的信息量

信息量越低, 则表示该词语最接近通常语义, 通过选出总信息量最低的词语组合来完成分词

#### 算法

1. 根据词频字典找出字符串中存在的所有可能词语, 记录其位置以及长度

1. 枚举所有词语保持次序的可能的组合，每种组合要消除歧义, 即不存在冲突区间

1. 计算出选出的组合中信息量最小的，则认为该组合是最接近正常语义的组合

#### 流程图

\[此处应有流程图\]

## 倒排索引

### 倒排索引的三个部分

* 索引的建立
* 关键词的检索
* 序列化与反序列化

### 索引的建立

记录章节顺序,即提前章节排序的位置,保证只做一次处理,省略掉在检索时再比较章节次序的时间, 并按照章节顺序逐个进行添加索引的操作

将文章分为若干冲突区间, 对每个冲突区间进行分词处理, 同时将冲突区间边缘存在的冲突词语添加进分词结果, 拿到分词结果作为该文章的关键词列表, 并将每个关键词在文章中的信息, 如次数, 频度以及是否在标题中出现等信息记录下来

将计算结果保存为**关键词**和**包含文章和关键词信息的结构体列表**的键值对容器中

### 关键词的检索

1. 当检索关键词时, 应取所有关键词所映射的文件路径列表的交集
1. 对所获得到的文件路径列表进行打分排序
1. 返回排序之后的文件路径列表

#### 打分/排序

根据以下步骤进行打分:

\[流程图一张\]

\[

流程图表述

遍历每个关键字

判断关键词是否出现在标题中

若出现在标题中,

则该文章打分增加1000

且标记主概念文章路径

若未出现在标题中且主概念文章路径被标记

则该文章打分减少与主概念文章路径距离的绝对值\*100

文章打分增加该关键词出现的次数 \* 其信息量

\]

### 序列化与反序列化

通过将建立好的倒排索引对象序列化到文件中, 实现从文件反序列化, 可以有效减少构建到牌索引对象时所需要的时间

\[一份序列化之后的文件的格式图\]

\[一份重新建立索引和通过反序列化建立对象所需要时间的对比图\]

## 检索服务器

### 检索服务器处理哪些任务

* 监听同一台服务器上其它进程的请求
* 通过倒排索引进行检索并返回给相应的进程检索的结果

\[一张检索服务器和PHP进程通信的示意图(包含多线程部分)\]
